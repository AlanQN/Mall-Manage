<!doctype html>
<html class="no-js">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>二次元</title>
    <meta name="description" content="这是一个form页面">
    <meta name="keywords" content="form">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="renderer" content="webkit">
    <meta http-equiv="Cache-Control" content="no-siteapp" />
    <!--fen-->
    <link rel="icon" type="image/png" href="assets/i/favicon.png">
    <link rel="apple-touch-icon-precomposed" href="assets/i/app-icon72x72@2x.png">
    <meta name="apple-mobile-web-app-title" content="Amaze UI" />
    <link rel="stylesheet" href="assets/css/amazeui.min.css" />
    <link rel="stylesheet" href="assets/css/admin.css">
    <link rel="stylesheet" href="font-awesome-4.7.0/css/font-awesome.css">
    <style type="text/css">
    .dialog {
        width: 500px;
        height: 300px;
        position: fixed;
        /*left: 50%;
        top: 50%;
        margin-top: -100px;
        margin-left: -100px;*/
        margin: 100px 100px 10px 200px;
        z-index: 30;
        box-shadow: 2px 2px 4px #ccc;
        background-color: #f1f1f1;
        border: solid 1px #aaa;
        border-radius: 4px;
        overflow: hidden;
        display: none;
    }

    .title {
        font-size: 16px;
        font-weight: bold;
        color: black;
        padding: 6px;
        background-color: #00FFFF;
    }

    .close {
        width: 20px;
        height: 20px;
        margin: 3px;
        float: right;
        cursor: pointer;
        color: black;
    }

    .pageCover {
        width: 100%;
        height: 973px;
        position: absolute;
        z-index: 10;
        background-color: #666;
        opacity: 0.5;
        display: none;
    }

    .button_a {
        background-color: #ffffff;
    }
    </style>
</head>

<body>
    <!--遮盖层-->
   <div id="pageCover" class="pageCover" style="z-index: 990"></div>
    <div class="am-cf admin-main">
        <div class="admin-content">
            <!--增加父分类-->
            <div id="addfaclass" class="dialog" style="z-index: 999"><span class="close">&times;</span>
                <div class="title">添加父分类</div>
                <div class="content">
                    <div class="am-tabs am-margin" data-am-tabs>
                        <div class="am-tabs-bd">
                            <div class="am-tab-panel am-fade" id="tab3">
                                <form class="am-form">
                                    <div class="am-g am-margin-top-sm">
                                        <div class="am-u-sm-3 am-text-right">
                                            分类名称
                                        </div>
                                        <div class="am-u-sm-8 am-u-end">
                                            <input type="text" class="am-input-sm" name ="father_name" placeholder="输入分类名称" value="">
                                        </div>
                                    </div>
                                    <div class="am-g am-margin-top-sm">
                                        <div class="am-u-sm-3 am-text-right">
                                            Tag值
                                        </div>
                                        <div class="am-u-sm-8 am-u-end">
                                            <input type="text" class="am-input-sm" name ="father_tag" placeholder="输入tag名称" value="">
                                        </div>
                                    </div>
                                    <div class="am-g am-margin-top-sm">
                                        <div class="am-u-sm-3 am-text-right">
                                            备注
                                        </div>
                                        <div class="am-u-sm-8 am-u-end">
                                            <textarea rows="3" id="father_remark1" name="father_description" placeholder="输入对应的描述"></textarea>
                                        </div>
                                    </div>
                                    <div class="am-g am-margin-top-sm">
                                        <div class="am-u-sm-3 am-text-right">
                                        </div>
                                        <div class="am-u-sm-8 am-text-right">
                                            <input type="button" value="确认" class="am-input-sm" onclick="closeDialog('addfaclass','2');">
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--增加子分类-->
            <div id="addclass" class="dialog" style="z-index: 999"><span class="close">&times;</span>
                <div class="title">添加子分类</div>
                <div class="content">
                    <div class="am-tabs am-margin" data-am-tabs>
                        <div class="am-tabs-bd">
                            <div class="am-tab-panel am-fade" id="tab3">
                                <form class="am-form">
                                    <div class="am-g am-margin-top-sm">
                                        <div class="am-u-sm-3 am-text-right">
                                            分类名称
                                        </div>
                                        <div class="am-u-sm-8 am-u-end">
                                            <input type="text" class="am-input-sm" name ="son_name" placeholder="输入分类名称" value="">
                                        </div>
                                    </div>
                                    <div class="am-g am-margin-top-sm">
                                        <div class="am-u-sm-3 am-text-right">
                                            备注
                                        </div>
                                        <div class="am-u-sm-8 am-u-end">
                                            <textarea rows="4" id="father_remark" name="son_description" ></textarea>
                                        </div>
                                    </div>
                                    <div class="am-g am-margin-top-sm">
                                        <div class="am-u-sm-3 am-text-right">
                                        </div>
                                        <div class="am-u-sm-8 am-text-right">
                                            <input type="button" value="确认" class="am-input-sm" onclick="closeDialog('addclass','1');">
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--增加分类结束-->
            <!--未选择父分类提示-->
            <div id="rechoose" class="dialog" style="z-index: 999"><span class="close">&times;</span>
                <div class="title">警告</div>
                <div class="content">
                    <div class="am-tabs am-margin" data-am-tabs>
                        <div class="am-tabs-bd">
                            <div class="am-tab-panel am-fade" id="tab3">
                                <form class="am-form">
                                    <div class="am-g am-margin-top-sm">
                                        <div class="am-u-sm-7 am-text-right">
                                            您未选择任何父分类，请重新选择
                                        </div>
                                        <div class="am-u-sm-8 am-u-end">
                                        </div>
                                    </div>
                                    <div class="am-g am-margin-top-sm">
                                        <div class="am-u-sm-3 am-text-right">
                                        </div>
                                        <div class="am-u-sm-8 am-text-right">
                                            <input type="button" value="确认" class="am-input-sm" onclick="closeDialog('rechoose','0');">
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--未选择父分类提示结束-->
            <!--通用界面提示-->
            <div id="common" class="dialog" style="z-index: 999"><span class="close">&times;</span>
                <div class="title">警告</div>
                <div class="content">
                    <div class="am-tabs am-margin" data-am-tabs>
                        <div class="am-tabs-bd">
                            <div class="am-tab-panel am-fade" id="tab3">
                                <form class="am-form">
                                    <div class="am-g am-margin-top-sm">
                                        <div class="am-u-sm-7 am-text-right" id="commondiv">

                                        </div>
                                        <div class="am-u-sm-8 am-u-end">
                                        </div>
                                    </div>
                                    <div class="am-g am-margin-top-sm">
                                        <div class="am-u-sm-3 am-text-right">
                                        </div>
                                        <div class="am-u-sm-8 am-text-right">
                                            <input type="button" value="确认" class="am-input-sm" onclick="closeDialog('common','0');">
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--通用界面提示提示结束-->
            <!--选择子分类提示-->
            <div id="rechoosefa" class="dialog" style="z-index: 999"><span class="close">&times;</span>
                <div class="title">警告</div>
                <div class="content">
                    <div class="am-tabs am-margin" data-am-tabs>
                        <div class="am-tabs-bd">
                            <div class="am-tab-panel am-fade" id="tab3">
                                <form class="am-form">
                                    <div class="am-g am-margin-top-sm">
                                        <div class="am-u-sm-7 am-text-right">
                                            您选择了子分类，请重新选择父分类
                                        </div>
                                        <div class="am-u-sm-8 am-u-end">
                                        </div>
                                    </div>
                                    <div class="am-g am-margin-top-sm">
                                        <div class="am-u-sm-3 am-text-right">
                                        </div>
                                        <div class="am-u-sm-8 am-text-right">
                                            <input type="button" value="确认" class="am-input-sm" onclick="closeDialog('rechoosefa','0');">
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--选择子分类提示结束-->
            <!--商品分类管理-->
            <div class="am-cf am-padding">
                <div class="am-fl am-cf"><strong class="am-text-primary am-text-lg">分类管理</strong></div>
            </div>
            <div>
                <div class="am-cf am-padding">商品目录</div>
                <div class="admin-newside" class="classify" >
                    <ul class="am-list admin-sidebar-list father_mulu">
                        <li class="admin-parent">
                            <a class="am-cf" data-am-collapse="{target: '#collapse-nav5'}" name="father" id="demo1" href="javascript:add_son(10,'demo11');">家具用品</a>
                            <ul class="am-list am-collapse admin-sidebar-sub am-in demo11" id="collapse-nav5">
                            </ul>
                        </li>
                        <li class="admin-parent">
                            <a class="am-cf" data-am-collapse="{target: '#collapse-nav6'}" name="father" id="demo2" href="javascript:add_son(11,'demo22');">文具</a>
                            <ul class="am-list am-collapse admin-sidebar-sub am-in demo22" id="collapse-nav6">
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
            <!--商品分类管理结束-->
            <!--修改，增加分类-->
            <div class="admin-content">
                <div class="am-margin">
                    <button type="button" class="am-btn am-btn-primary am-btn-xs" onclick="openDialog('addfaclass');">增加父分类</button>
                    <button type="button" class="am-btn am-btn-primary am-btn-xs" onclick="addsonpoint();">增加子分类</button>
                </div>
                <div class="am-tabs am-margin" data-am-tabs>
                    <ul class="am-tabs-nav am-nav am-nav-tabs">
                        <li class="am-active"><a href="#tab2">修改分类</a></li>
                    </ul>
                    <div class="am-tabs-bd">
                        <!--修改分类子界面-->
                        <div class="am-tab-panel am-fade am-in am-active" id="tab2">
                            <div id="pageCover2" class="pageCover"></div>
                            <form class="am-form">
                                <div class="am-g am-margin-top">
                                    <div class="am-u-sm-2 am-text-right">
                                        分类名称
                                    </div>
                                    <div class="am-u-sm-4">
                                        <input type="text" class="am-input-sm">
                                    </div>
                                    <div class="am-u-sm-6">*必填</div>
                                </div>
                                <div class="am-g am-margin-top">
                                    <div class="am-u-sm-2 am-text-right">
                                        父分类
                                    </div>
                                    <div class="am-u-sm-4 col-end">
                                        <select>
                                            <option value="option1">无</option>
                                            <option value="option2">高达</option>
                                            <option value="option2">变形金刚</option>
                                            <option value="option2">shf</option>
                                            <option value="option2">GSC</option>
                                        </select>
                                    </div>
                                    <div class="am-u-sm-6">无父分类则为根分类</div>
                                </div>
                                <div class="am-g am-margin-top">
                                    <div class="am-u-sm-2 am-text-right">
                                        优先排序值
                                    </div>
                                    <div class="am-u-sm-4">
                                        <input type="text" class="am-input-sm">
                                    </div>
                                    <div class="am-u-sm-6">0~9999 排序值越小越好</div>
                                </div>
                                <div class="am-g am-margin-top">
                                    <div class="am-u-sm-2 am-text-right">
                                        是否启用
                                    </div>
                                    <div class="am-u-sm-4">
                                        <label class="am-btn am-btn-default am-btn-xs">
                                            <input type="radio" name="options" id="option1"> 启用
                                        </label>
                                        <label class="am-btn am-btn-default am-btn-xs">
                                            <input type="radio" name="options" id="option2"> 不启用
                                        </label>
                                    </div>
                                    <div class="am-u-sm-6">不填写则为不启用</div>
                                </div>
                                <div class="am-g am-margin-top-sm">
                                    <div class="am-u-sm-2 am-text-right">
                                        详细信息/备注
                                    </div>
                                    <div class="am-u-sm-10">
                                        <textarea rows="10" placeholder="请使用富文本编辑插件"></textarea>
                                    </div>
                                </div>
                            </form>
                        </div>
                        <!--修改分类子界面结束-->

                    </div>

                    <div class="am-margin">
                        <button type="button" class="am-btn am-btn-primary am-btn-xs" onclick="savepoint();">提交保存</button>
                        <button type="button" class="am-btn am-btn-primary am-btn-xs" onclick="deletepoint();">删除节点</button>
                    </div>
                </div>
            </div>
            <!--修改，增加分类结束-->
        </div>
    </div>
    </div>
    <footer>
        <hr>
        <p class="am-padding-left">SCAU2018<a href="http://h2design.taobao.com/" target="_blank">666CGN</a></p>
    </footer>
    <script src="../assets/js/product-classify.js"></script>
    <script src="assets/js/jquery.min.js"></script>
    <script src="assets/js/amazeui.min.js"></script>
    <script src="assets/js/app.js"></script>
    <script type="text/javascript">

    var abox = $("a[name='father']"); //name为father的a标签的数组
    var bbox = $("a[name='son']"); //name为son的a标签数组
//    var selected_classify;
    for (var i = 0; i < abox.length; i++) { //father分类框被点击时的操作
        abox[i].act = 0; //act为一个a标签是否被选中的标记
        abox[i].onclick = function() {
            for (var j = 0; j < abox.length; j++) { //先把每个father a标签的act值标为0，包括之前已被点击过的
                abox[j].act = 0;
            }
            for (var j = 0; j < bbox.length; j++) { //先把每个aon a标签的act值标为0，包括之前已被点击过的
                bbox[j].act = 0;
            }
            this.act = 1; //把当前点击过的a标签的act值记为1
            //console.log("success");
        }
    }
    for (var i = 0; i < bbox.length; i++) //son分类框被点击时的操作
    {
        bbox[i].act = 0;
        bbox[i].onclick = function() {
            for (var j = 0; j < abox.length; j++) { //先把每个father a标签的act值标为0，包括之前已被点击过的
                abox[j].act = 0;
            }
            for (var j = 0; j < bbox.length; j++) { //先把每个aon a标签的act值标为0，包括之前已被点击过的
                bbox[j].act = 0;
            }
            this.act = 1; //把当前点击过的a标签的act值记为1
        }
    }

    function deletepoint() { //删除节点后的反应
        var check = 0; //判断有无节点被选中的变量
        for (var i = 0; i < abox.length; i++) {
            if (abox[i].act == 1) {
                check = 1;
            }
        }
        for (var i = 0; i < bbox.length; i++) {
            if (bbox[i].act == 1) {
                check = 1;
            }
        }
        if (check == 1) {
            console.log("delete success");
        } else {
            console.log("no point choose");
        }
    }

    function addsonpoint() //增加子节点进行的判断
    {
        var check = 0; //判断有无节点被选中的变量
        var lin = document.getElementById("addson");
        for (var i = 0; i < abox.length; i++) {
            if (abox[i].act == 1) {
                check = 1;
            }
        }
        for (var i = 0; i < bbox.length; i++) {
            if (bbox[i].act == 1) {
                check = 2;
            }
        }
        if (check == 1) {
            openDialog("addclass");
        } else {
            if (check == 2) {
                openDialog("rechoosefa");
            }
            else{
                openDialog("rechoose");
            }
        }
    }
    function savepoint()
    {
        var common=document.getElementById("commondiv");
        common.innerHTML="保存成功";
        openDialog("common");
    }
    function Dialog(id) {
        this.id = id;
        var that = this;
        document.getElementById(id).children[0].onclick = function() {
            that.close();
        }
    }
    Dialog.prototype.show = function() {
        var dlg = document.getElementById(this.id);
        dlg.style.display = 'block';
        dlg = null;
    };

    Dialog.prototype.close = function() {
        document.getElementById('pageCover').style.display = 'none';
        var dlg = document.getElementById(this.id);
        dlg.style.display = 'none';
        dlg = null;
    };

    function openDialog(id) {
        document.getElementById('pageCover').style.display = 'block';
        var dlg = new Dialog(id);
        dlg.
        show();
    }

    </script>
</body>

</html>